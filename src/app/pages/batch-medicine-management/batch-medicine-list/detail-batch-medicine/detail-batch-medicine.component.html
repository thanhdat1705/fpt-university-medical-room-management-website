<div class="inner-content">
    <div class="header-content d-flex flex-column">
        <nz-divider [nzText]="heading" nzOrientation="left">
            <ng-template #heading>
                <span class="font-weight-semibold font-size-18">Thông tin lô nhập</span>
            </ng-template>
        </nz-divider>
        <div class="info-wrapper" *ngIf="importBatchDetail != null">
            <div class="header-info">
                <span class="font-weight-semibold font-size-16 text-teal-green">Nhập Ngày</span>
                <span>{{ getCreateDate(importBatchDetail.createDate) }}</span>
            </div>
            <div class="header-info">
                <span class="font-weight-semibold font-size-16 text-teal-green">Cập nhật lần cuối</span>
                <span>{{ getCreateDate(importBatchDetail.updateDate) }}</span>
            </div>
            <div class="header-info">
                <span class="font-weight-semibold font-size-16 text-teal-green">Hiện Có</span>
                <span>{{ importBatchDetail.numberOfSpecificMedicine }}</span>
            </div>
            <div class="header-info">
                <span class="font-weight-semibold font-size-16 text-teal-green">Tổng Giá</span>
                <span>{{ importBatchDetail.totalPrice.toLocaleString('vi') }} ₫</span>
            </div>
            <div class="header-info">
                <span class="font-weight-semibold font-size-16 text-teal-green">Nhập Kì (tháng - năm)</span>
                <span>
                    {{ importBatchDetail.periodicByMonth }} -
                    {{ importBatchDetail.periodicByYear }}
                </span>
            </div>
        </div>
        <nz-divider class="divider-border"></nz-divider>
    </div>
    <div>
        <nz-spin [nzSpinning]="detailMedicineLoading" nzTip="Đang lấy dữ liệu...">
            <nz-spin [nzSpinning]="importMedicineLoading" nzTip="Đang xử lý...">
                <div class="d-flex flex-column justify-content-between" style="min-height: 350px;">
                    <nz-table #nzTable [nzData]="importMedicineList" [nzFrontPagination]="false"
                        [nzScroll]="{ x: '1100px' }" [nzTotal]="totalRecord" [nzPageSize]="pageSize"
                        [nzPageIndex]="pageIndex" (nzQueryParams)="onQueryParamsChange($event)">
                        <thead>
                            <tr>
                                <th nzWidth="20%">Dược phẩm</th>
                                <th nzWidth="10%" nzAlign='center'>Số lượng</th>
                                <th nzWidth="15%" nzAlign='center'>Đơn vị</th>
                                <th nzWidth="20%" nzAlign='center'>Trạng thái</th>
                                <th nzWidth="20%" nzAlign='right'>Hạn sử dụng</th>
                                <th nzWidth="15%" nzAlign='right'>Đơn giá</th>
                                <!-- <th nzWidth="80px" nzRight></th> -->
                            </tr>
                        </thead>
                        <tbody>

                            <tr *ngFor="let data of importMedicineList; index as i">
                                <td>
                                    <span class="text-link font-weight-semibold"
                                        (click)="detailImportMedicine(importBatchDetail.id, data.id)"> {{
                                        data.medicineName }}
                                    </span>
                                </td>
                                <td nzAlign='center'>{{ data.quantity }}</td>
                                <td nzAlign='center'>{{data.medicineUnit.name}}</td>
                                <td nzAlign='center'>
                                    <nz-badge [nzStatus]="getStatus(data.statusId)">{{ data.statusImportMedicine }}
                                    </nz-badge>
                                </td>
                                <td nzAlign='right'>{{ getCreateTime(data.expirationDate) }}</td>
                                <td nzAlign='right'>{{ data.price.toLocaleString('vi') }} ₫</td>

                                <!-- <td nzRight>
                                <a style="color: #1890ff" (click)="detailImportMedicine(importBatchDetail.id, data)">
                                    Chi tiết
                                </a>
                            </td> -->
                            </tr>

                        </tbody>
                    </nz-table>
                    <div style="margin: 10px; width: 200px;">
                        <button nz-button nzType="primary" nzBlock nzSize="large"
                            (click)="addImportMedicine(importBatchDetail.id)">
                            <span>Thêm dược phẩm</span>
                        </button>
                    </div>
                </div>
            </nz-spin>
        </nz-spin>
    </div>

</div>